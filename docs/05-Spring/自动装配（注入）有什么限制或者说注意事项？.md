# 自动装配（注入）有什么限制或者说注意事项？ 

1、**多例冲突问题**

-   如果容器中有多个相同类型的 Bean，Spring 无法确定应该注入哪个 Bean，如果不手动指定就会报错
-   解决方法：
    -   使用 `@Primary` 注解标记优先级较高的 Bean。
    -   使用 `@Qualifier` 注解指定具体的 Bean 名称

2、**类型不明确时无法注入**

-   如果目标 Bean 的类型在容器中没有匹配的候选 Bean，Spring 会抛出 `NoSuchBeanDefinitionException` 异常。
-   解决方法：
    -   确保容器中存在与目标类型匹配的 Bean。
    -   如果可能不存在 Bean，可以使用 `@Autowired(required = false)` 允许注入失败。

3、**复杂场景下的灵活性不足**

-   在某些复杂的依赖关系中，自动装配可能无法满足需求。
-   示例：
    -   需要根据运行时条件动态选择不同的 Bean。
    -   解决方法：
        -   使用 `@Conditional` 注解根据条件加载 Bean。
        -   使用 `@FactoryBean` 或 `@Bean` 方法手动创建 Bean

4、**性能开销**

-   在大规模应用中，自动装配可能会增加容器初始化的性能开销，尤其是当容器中存在大量 Bean 时。
-   解决方法：
    -   减少不必要的 Bean 定义。
    -   使用懒加载（`@Lazy`）延迟初始化 Bean

5、**想被自动装配的类要声明set方法**

6、**自动装配会被覆盖**

-   可以使用 \<constructor-arg> 和 \<property>配置来定义依赖，这些配置将始终覆盖自动注入

7、**自动装配不能装配简单的属性**

-   如基本数据类型、字符串和类都不能自动装配。（但手动注入可以注入基本数据类型：\<property value=""> 或 @Value）