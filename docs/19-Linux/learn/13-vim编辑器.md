# vim编辑器

## 什么是vi/vim编辑器

vi是Unix操作系统和类Unix操作系统中最通用的文本编辑器

Vim编辑器是从Vi发展出来的性能更强大的文本编辑器。可以主动的以字体演示辨别语法的正确性，方便程序设计。VIM与vi编辑器完全兼容。

## vim的三种模式

一般模式	主要操作：删除、复制、粘贴

命名模式（末行模式、底行模式）	

编辑模式（插入模式）	主要操作：编辑文本

**模式切换：**

一般模式 ——> 编辑模式       i、a或o

编辑模式 ——> 一般模式 	  esc

一般模式 ——> 命名模式 	 :或/

命令模式 ——> 一般模式 	 esc

### 普通模式

以vi打开一个文档就直接进入一般模式（默认的模式）。在这个模式中，可以使用  [方向键（上下左右）] 来移动光标，你可以使用 [删除字符] 或 [删除整行] 来处理档案内容，也可以使用 [复制 粘贴] 来处理你的文件数据

常用语法

| 语法                | 功能描述                                                     |
| ------------------- | ------------------------------------------------------------ |
| yy                  | 复制光标所在行                                               |
| y n y 或 nyy        | 复制一段（从光标所在行到后面n行）                            |
| p                   | 粘贴到光标所在行的下面                                       |
| u                   | 撤销                                                         |
| .                   | 撤销u执行的操作（即重做）                                    |
| dd                  | 删除光标所在行                                               |
| d n d 或 ndd        | 删除一段（从光标所在行到后面n行）                            |
| x                   | 剪切一个字符（光标所在位置），相当于del                      |
| X                   | 剪切一个字符（当前所在所在的前一个位置），相当于backspace    |
| r                   | 表示替换（先用光标选择字符，按r，然后在输入想要替换为的字符） |
| R                   | 也是替换                                                     |
| yw                  | 复制一个单词                                                 |
| dw                  | 删除一个单词                                                 |
| shift+6(^)          | 光标移动到行头                                               |
| shift+4($)          | 光标移动到行尾                                               |
| w                   | 移动到下一个词（词头位置）                                   |
| e                   | 移动到当前词尾                                               |
| b                   | 移动到上一个词（词头）                                       |
| 1+G 或gg 或 shift+h | 移动到页头，数字                                             |
| shift+g（G）        | 移动到页尾                                                   |
| 数字N+G             | 移动到目标行                                                 |



组合使用

y + $ （shift 4）表示复制光标所在位置到当前行的末尾的内容

y + ^（shift 6） 表示复制当前行到光标所在的前一个位置的内容

### 编辑模式

**进入编辑模式**

常用语法

| 按键 | 功能                   |
| ---- | ---------------------- |
| i    | 在当前光标前插入       |
| a    | 在当前光标后插入       |
| o    | 当前光标所在行的下一行 |
| I    | 在光标所在行最前面插入 |
| A    | 在光标所在行最后面插入 |
| O    | 当前光标行的上一行插入 |

**退出编辑模式**

按**ESC**键



### 命名模式

基本用法

| 命令          | 功能                                   |
| ------------- | -------------------------------------- |
| :w            | 保存                                   |
| :q            | 退出                                   |
| :wq           | 保存并退出                             |
| :wq!          | 强制保存并退出（可用于修改只读文件）   |
| :q!           | 不保存强制退出                         |
| /要查找的词   | 查找词（n查找下一个，N查找上一个）     |
| :noh          | 取消高亮显示                           |
| :set nu       | 显示行号                               |
| :set nonu     | 关闭行号                               |
| :/s/old/new   | 替换当前行匹配到的第一个old为new       |
| :/s/old/new/g | 替换当前行匹配到的所以old为new         |
| :%s/old/new   | 替换文档中每一行匹配到的第一个old为new |
| :%s/old/new/g | 替换文档中匹配的所有old为new           |
|               |                                        |

