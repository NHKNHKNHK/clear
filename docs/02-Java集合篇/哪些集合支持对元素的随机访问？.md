# 哪些集合支持对元素的随机访问？

只有实现了`RandomAccess`接口的集合支持对元素随机访问。(随机访问意味着可以通过索引直接访问集合中的元素，而不需要遍历集合)

`RandomAccess`接口的常见实现类有：

-   `ArrayList`：线程不安全。它的迭代器是快速失败的（fail-fast）
-   `Vector`：线程安全，每次访问都需要加锁，因此在并发环境下性能较差。它的迭代器是快速失败的（fail-fast）
-   `CopyOnWriteArrayList`：线程安全，它的迭代器是副本机制（fail-safe）。它在读操作频繁而写操作较少的情况下性能较好，因为读操作不加锁。但是在写操作频繁的情况下，频繁的数组复制会导致较大的开销。迭代器是弱一致性的（weakly consistent），可以在遍历过程中允许其他线程修改集合，不会抛出异常，但可能会看不到部分更新的结果。
-   **不支持随机访问的集合**：
    -   `LinkedList`：基于双向链表实现，不支持高效的随机访问
    -   `HashMap`、`HashSet`：基于哈希表，所以不支持基于索引的随机访问

