# ArrayList和LinkedList有什么区别？

## **口语化**

ArrayList和LinkedList的区别，我认为有几个方面。

第一点：内部的实现方面

- ArrayList底层是基于**数组**实现的，通过索引来访问元素，支持快速的随机访问。
- ​LinkedList底层是基于**双向链表**实现的，每一个元素都包含指向前一个元素和后一个元素的引用，适合插入和删除操作。

第二点：数据访问的时间复杂度不同

- ArrayList查询时间复杂度是**O(1)**
- ​LinkedList查询时间复杂度是**O(n)**，因为它查询元素需要要头部或尾部逐一遍历链表

第三点：空间占用方式

- ArrayList底层是使用数组来存储元素的，所以**占用的空间是连续**的，可能会产生内存碎片
- LinkedList底层是通过链表来连接元素，每一个元素都包含指向前一个元素和后一个元素的引用，占用的空间会比较大

## 对比

|                      | ArrayList              | LinkedList                                                   |
| -------------------- | ---------------------- | ------------------------------------------------------------ |
| 底层结构             | 数组                   | 双向链表                                                     |
| 与数据结构相关的接口 | List\<E>, RandomAccess | List\<E>,Deque\<E>                                           |
| 容量限制             | 受数组的最大长度限制   | 受限于可用内存                                               |
| 查询时间复杂度       | O(1)，O(n)             | O(n)                                                         |
| 是否需要扩容         | 需要                   | 不需要                                                       |
| 是否需要移动元素     | 需要                   | 不需要                                                       |
| 占用内存             | 少，元素连续存储       | 多，每个节点除了存储元素本身外<br>还需要存储两个额外的引用（前驱和后继节点） |
| 效率对比             | 理论上，查询快，增删慢 | 理论上，查询慢，增删快                                       |

## 补充说明

理论上数组结构的增删慢，链表结构的增删快，但现在内存拷贝技术性能提高之后，ArrayList的整体性能反而优于LinkedList，因为LinkedList内部需要创建节点对象，这是一个耗时的过程。

