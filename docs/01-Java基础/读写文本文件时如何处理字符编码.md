# 读写文本文件时如何处理字符编码

 `FileReader`和`FileWriter`在读写文本文件时，可以直接指定文件的字符编码。

注意！！！在**JDK11**中才可以直接指定字符编码

```java
import java.io.*;

public class Utf8ToGbkConverter {
    public static void main(String[] args) {
        String inputFilePath = "input_utf8.txt";  // 输入文件路径（UTF-8 编码）
        String outputFilePath = "output_gbk.txt"; // 输出文件路径（GBK 编码）

        try (
            // 从UTF8的文件中读取内容
            FileReader fr = new FileReader(inputFilePath, Charset.forName("UTF-8"));
            
            // 写内容到GBK的文件中
            FileWriter fw = new FileWriter(outputFilePath, Charset.forName("GBK"));
        
        ) {

            int len;
            char[] data = new char[10];
            while ((len = fr.read()) != -1) {
                fw.wrire(data, 0, len);
            }
            System.out.println("Conversion from UTF-8 to GBK completed successfully.");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```
