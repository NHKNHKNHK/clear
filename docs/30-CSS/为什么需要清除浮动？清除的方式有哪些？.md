# 为什么需要清除浮动？清除的方式有哪些？

>   什么是浮动？
>   浮动最初是用来实现文字环绕图片效果的，现在广泛运用于页面布局之一

清除浮动主要是为了避免由于浮动元素脱离文档流而引发的布局问题（如父元素高度塌陷）

当一个元素浮动时，他从文档流中脱离，常常会影响到其父元素和后续兄弟元素的显示效果。

典型的问题就是父元素无法包裹浮动元素的高度等。

浮动的特点：

-   1.浮动后不独占一行、不撑满父容器，由内容撑开
-   2.浮动后脱离文档流
-   3.不会margin合并、塌陷
-   4.不会像行内块一样被当做文本处理（没有行内块的空白问题）

清除浮动的方式有：

-   使用空的清除浮动元素（clearfix hack）
-   使用伪元素`::after`清除浮动
-   使用`overflow`属性清除浮动
-   使用`display: flow-root`清除浮动

解决父元素高度塌陷

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .outer {
            width: 500px;
            background-color: gray;
            border: 1px solid black;
        }

        .box {
            width: 100px;
            height: 100px;
            background-color: skyblue;
            margin: 10px;
        }

        .box1,
        .box2,
        .box3,
        .box4 {
            float: left;
        }
    </style>
</head>

<body>
    <div class="outer">
        <div class="box box1">1</div>
        <div class="box box2">2</div>
        <div class="box box3">3</div>
        <div class="box box4">4</div>
    </div>
    <div style="background-color: orange;">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, minus magnam accusamus eum laborum ducimus
        possimus beatae fugit illum molestias odit et asperiores adipisci sunt dolorem qui autem enim excepturi alias ab
        unde temporibus. Sapiente labore a magnam commodi itaque architecto quos doloribus voluptates perferendis rem,
        earum consectetur. Tempora inventore ducimus veritatis voluptatem deleniti rem laboriosam. Officiis, impedit
        explicabo! Impedit labore ea et vero rerum nihil in cum qui, itaque blanditiis eius nemo est? Tempora explicabo
        voluptates consectetur officia aperiam eos impedit veritatis necessitatibus quidem deleniti ea, in odit cum ex
        harum voluptas, quos eveniet quae voluptate aspernatur quod! Nostrum?
    </div>
</body>

</html>
```

第一种解决方案：给父元素指定高度

```css
.outer{
  height: 122px;
}
```

第二种解决方案：给父元素也指定浮动，但是会带来其他影响

```css
.outer{
  float: left;
}
```

第三种解决方案：给父元素设置overflow: hidden

```css
.outer{
  overflow: hidden;
}
```

第四种解决方案：在所有浮动元素最后面，添加一个块级元素，并给该块级元素设置`clear:both`

```html
 <div class="outer">
  <div class="box box1">1</div>
  <div class="box box2">2</div>
  <div class="box box3">3</div>
  <div class="box box4">4</div>
  <div class="mofa"></div>
</div>
```

```css
.mofa {
    /*
      left:元素被向下移动以清除左浮动。
      right:元素被向下移动以清除右浮动。
      both:元素被向下移动以清除左右浮动
    */
    clear: both;
}
```

第五种解决方案：给浮动元素的父元素设置一个伪元素，并给该伪元素设置clear: both，原理与方案四相同（推荐这种）

```css
.outer::after {
  content: '';
  display: block;
  clear: both;
}
```

>   这种方式开发中是比较常用的，因此也总结出来一个泛用的clearfix类来解决浮动

```css
.clearfix::after {
  content: '';
  display: block;
  clear: both;
}
```

扩展：使用`display: flow-root`清除浮动

css的`display: flow-root`属性可以创建一个新的块级格式化上下文（BFC），从而清除浮动。

```css
.outer {
  display: flow-root;
}
```

这种做法是相对比较简单的的处理方式，因为它不影响其他样式

总结：布局中的一个原则：设置浮动的时候，兄弟元素要么全部设置浮动，要么全部不设置浮动。
