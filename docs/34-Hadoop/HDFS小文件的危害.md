# HDFS小文件的危害



-   存储
    -   默认情况下，一个文件块不管多小都会占用NN 150字节左右。
    -   128m    一个文件块   ==>   150字节
    -   1字节    一个文件块   ==>   150字节     （小文件过多 浪费NN的存储内存）
    -   128g内存，能存储多少文件块？？
        -   128g * 1024m * 1024k * 1024字节 / = 9.1亿
-   计算
    -   默认情况下的切片规则，每个文件单独切片
    -   1字节  ==> 1个maptask  ==> 1g内存（小文件过多）
    -   128m  ==> 1个maptask  ==> 1g内存