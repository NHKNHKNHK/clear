# 什么是Hadoop

​	Hadoop 是一个由 Apache 软件基金会维护的开源软件框架，它允许使用简单的编程模型在大量计算机集群上处理和存储大规模数据集。Hadoop 的设计目标是在廉价硬件上实现高性能的大规模数据处理。

Hadoop 的核心组成部分包括：**Hadoop Distributed File System (HDFS)**、**MapReduce**

**1）HDFS产生背景**

​	随着数据量越来越大，在一个操作系统存不下所有的数据，那么就分配到更多的操作系统管理的磁盘中，但是不方便管理和维护，迫切**需要一种系统来管理多台机器上的文件**，这就是分布式文件管理系统。**HDFS只是分布式文件管理系统中的一种。**

**2）HDFS定义**

​	**HDFS（Hadoop Distributed File System），它是一个文件系统**，用于存储文件，通过目录树来定位文件；其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色。

**HDFS的使用场景：适合一次写入，多次读出的场景**。一个文件经过创建、写入和关闭之后就不需要改变。

## Hadoop四高

1）高可靠性

Hadoop底层维护多个数据副本，所有即使hadoop某个计算元素或存储故障，也不会造成数据丢失

2）高扩展性

在集群间分配任务数据，可方便的扩展数以千计的节点

3）高效性

在mapreduce的思想下，Hadoop是可以并行工作的，以加快任务处理的速度。

4）高容错性

能够自动将失败的任务重新分配

## Hadoop组成

### **Hadoop1.x阶段**

HDFS（数据存储）、MapReduce（计算+资源调度）、Common（辅助工具）

1.x时期，mr需要同时处理业务逻辑运算又要资源调度，压力大，耦合度大。

### **Hadoop2.x阶段**

HDFS（数据存储）、MapReduce（计算）、**YARN（资源调度）**、Common（辅助工具）

### **Hadoop3.x阶段无变化**

-   Hadoop集群包括两个：HDFS集群、YARN集群
-   两个集群逻辑上分离、通常物理上是在一起的
-   两个集群都是标准的主从架构的集群

## HDFS优缺点

### **HDFS优点**

1）高容错性

​	数据自动保存多个副本。它通过增加副本的形式，提高容器性

​	某一个副本丢失后，它可以自动恢复

2）适合处理大数据

​	数据规模：能够处理数据规模达到GB、TB、甚至PB级别的数据

​	文件规模：能够处理百万规模以上的文件数量

3）可以**构建在廉价的机器上**，通过多副本机制，提高可靠性

### **HDFS缺点**

1）**不适合低延迟数据访问**，比如毫秒级的存储数据，它做不到

2）**无法高效对大量小文件进行存储**

​	存储大量小文件，他会占用大量的NameNode大量的内存来存储文件目录和快信息。这样是不可取的，因为NameNode内存是有限的

​	小文件的寻址时间会超过读取时间，违反了HDFS的设计目标

3）**不支持并发写入、文件随机修改**

​	一个文件只能有一个写，不允许多个线程同时写

​	**仅支持数据追加（append），不支持文件的随机修改**


