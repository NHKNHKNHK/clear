# 为什么会有公平锁与非公平锁的设计？为什么要默认非公平？

-   **公平锁与非公平锁的设计原因**：
    -   公平锁确保线程按照请求锁的顺序获得锁，避免线程饥饿问题。适用于对实时性要求较高的场景。
    -   非公平锁允许后来的线程“插队”获取锁，若锁恰好可用。这能减少上下文切换，提高吞吐量。
-   **默认非公平的原因**：
    -   非公平锁在大多数情况下性能更优，因为它减少了不必要的阻塞和唤醒操作。
    -   实际应用中，线程饥饿的情况较为罕见，而非公平锁带来的性能提升更为显著。
    -   默认采用非公平锁可以为开发者提供更好的性能体验，同时仍允许根据需求选择公平锁。

