# 唯一索引和主键索引的区别？

## 口语化

唯一索引和主键索引都是MySQL中常用的索引类型，它们都可以用来保证数据的唯一性。它们的主要区别在于：

**唯一性**：主键索引其实是一种特殊的唯一索引，两者都具有唯一性；也就是在一张表中，不能有两行有相同的主键；在同一张表中，主键索引字段的所有值都是唯一的。

**是否可空**：主键索引是不能为NULL的，而唯一键索引是可以为NULL的。

:::tip

主键索引的本质 = 唯一索引 + 非空约束

:::

**是否可以有多个**：主键索引在一张表中只能有一个，而唯一索引在一张表中可以创建多个。

:::tip
**为什么主键索引在一张表中只能有一个？**

由于数据存储存储排序方式只有一种，所以每个MySQL的`表只能有一个聚簇索引`。一般情况下就是该表的主键。

:::

**索引结构**：在InnoDB中，主键索引就是聚簇索引，而唯一索引通常是非聚簇索引。

**是否回表**：基于主键索引的查询一定不需要回表，基于唯一索引的查询，通常是需要回表的（这里的通常和上面的通常是一个事儿）

**外键**：主键可以被其他表引用为外键，而唯一索引是不可以的。

## 扩展

### 为啥说唯一索引通常是非聚簇索引呢？

这是因为有的时候，我们如果没有定义主键，那么，InnoDB会选择一个`唯一的非空索引`作为聚簇索引。所以，唯一索引也可能被选为聚簇索引。

如果没有这样的索引，InnoDB会隐式定义一个主键作为聚簇索引。
