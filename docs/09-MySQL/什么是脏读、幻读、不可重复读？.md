# 什么是脏读、幻读、不可重复读？

## **脏读**

定义：脏读是指一个事务能够读取到另一个事务修改的数据，且修改暂未提交。如果该未提交的事务后来回滚（rollback），那么第一个事务读取到的数据就是无效的或“脏”的。

例如：

​	张三的工资为5000，事务A中把他的工资改为8000，但事务A尚未提交。

​	与此同时，事务B正在读取张三的工资，读取到张三的工资为8000。

​	随后，事务A发生异常，而回滚了事务。张三的工资又回滚为5000。

​	最后，事务B读取到的张三工资为8000的数据即为脏数据，事务B做了一次脏读。

## **不可重复读**

定义：是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。也就是说，**在同一个事务中，两次读取同一行数据得到的结果不同**。

例如：

​	在事务A中，读取到张三的工资为5000，操作没有完成，事务还没提交。

​	与此同时，事务B把张三的工资改为8000，并提交了事务。

​	随后，在事务A中，再次读取张三的工资，此时工资变为8000。在一个事务中前后两次读取的结果并不致，导致了不可重复读。

## **幻读**

定义：幻读是指在一个事务内多次执行相同的查询时，由于其他事务插入或删除了数据行，导致查询结果集发生变化。具体来说，幻读表现为第一次查询时某些行不存在，而第二次查询时这些行出现了，或者相反。

例如：

​	目前工资为5000的员工有10人，事务A读取所有工资为5000的人数为10人。

​	此时，事务B插入一条工资也为5000的记录。

​	这是，事务A再次读取工资为5000的员工，记录为11人。此时产生了幻读。
