---
permalink: /mysql/what-index
---

# 什么是索引？有什么用？

在 MySQL 中，索引（Index）是一种数据结构，用于加速数据库查询操作。它类似于书籍的目录或索引页，通过提供快速定位数据的途径，减少了查询时需要扫描的数据量，从而显著提高查询效率。

## **索引的基本概念**

- 定义：索引是数据库中一个独立的、物理的结构，它存储了表中某些字段的值及其对应的行位置信息。
- 作用：通过索引，MySQL 可以快速定位到满足查询条件的记录，而不需要扫描整个表。

## **索引的工作原理**

- 查找机制：当执行查询时，MySQL 首先在索引中查找符合条件的键值，然后通过这些键值快速定位到实际数据行。
- 数据结构：常见的索引类型使用 B-Tree 或哈希等数据结构来组织数据，以便高效地进行查找、插入和删除操作。

## **索引的类型**

- B-Tree 索引：
  - 适用场景：适用于范围查询（如 >、<、BETWEEN）、等值查询（如 =）和排序操作。
  - 特点：按顺序存储数据，支持有序遍历。

- 哈希索引：
  - 适用场景：仅适用于等值查询（如 =），不支持范围查询或排序。
  - 特点：通过哈希函数将键值映射到固定大小的桶中，查找速度非常快。

- 全文索引（FULLTEXT）：
  - 适用场景：适用于大文本字段的全文搜索。
  - 特点：支持复杂的文本匹配和自然语言处理。

- 空间索引（SPATIAL）：
  - 适用场景：适用于地理空间数据的查询。
  - 特点：支持多维数据的索引和查询。

## 索引的优缺点

### **索引的优点**

- **提高查询效率**：减少查询时扫描的数据量，特别是对于大表。
- **加速排序和分组**：索引可以加速 ORDER BY 和 GROUP BY 操作。
- **唯一性约束**：通过唯一索引（UNIQUE）确保字段的唯一性。

### **索引的缺点**

- **占用额外存储空间**：索引本身需要占用磁盘空间，过多的索引可能导致存储资源浪费。
- **增加写入开销**：每次插入、更新或删除记录时，MySQL 都需要维护索引，这会增加写入操作的时间。
- **复杂化查询优化**：过多的索引可能会使查询优化器的选择更加复杂，反而影响性能。

## **创建和删除索引**

```sql
-- 创建索引
CREATE INDEX index_name ON table_name (column1, column2, ...);

-- 查看索引
SHOW INDEX FROM table_name;

-- 删除索引
DROP INDEX index_name ON table_name;  
```

## **索引的使用建议**

- 选择合适的字段：优先为经常用于查询条件的字段创建索引。
- 避免过度索引：不要为每个字段都创建索引，应根据实际查询需求合理选择。
- 定期分析和优化：使用 ANALYZE TABLE 和 OPTIMIZE TABLE 定期分析和优化表结构，确保索引的有效性。

## **索引的分类**

- 按【物理存储】分类：聚簇索引（主键索引）、非聚簇索引（二级索引、辅助索引）
- 按【数据结构】分类：b+树索引、hash索引、full-text索引
- 按【字段特性】分类：主键索引、唯一索引、普通索引、前缀索引
- 按【字段个数】分类：单列索引、联合索引（多列索引、复合索引）

:::tip
索引分类具体可以看这里：[MySQL有哪些索引类型？](./MySQL有哪些索引类型？（索引分类）.md)
:::

:::warning 注意
你可能还听说过**覆盖索引**，它不是索引，是联合索引命中的一种表现形式
:::
