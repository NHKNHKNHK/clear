# 不可重复读和幻读有什么区别

不可重复读的重点是**修改**：同样的条件，你读取过的数据，再次读取出来发现值不一样了

幻读的重点在于**新增**：同样的条件，第 1 次和第 2 次读出来的记录数不一样。

| 特性     | 不可重复读（Non-Repeatable Read）          | 幻读（Phantom Read）                               |
| -------- | ------------------------------------------ | -------------------------------------------------- |
| 定义     | 同一行数据在同一个事务中多次读取结果不一致 | 相同查询在同一个事务中多次执行结果集不同           |
| 原因     | 其他事务修改了同一行数据                   | 其他事务插入符合条件的行                   |
| 解决方案 | 使用可重复读或序列化隔离级别               | 使用序列化隔离级别，某些数据库的可重复读也防止幻读 |
| 影响范围 | 单个行的数据变化                           | 查询结果集的变化（涉及多行）                       |

## 扩展

### 不可重复读的特例

有时候，同样的条件（例如：id>10），第 1 次和第 2 次读出来的记录数不一样，第 2 次读取出来的记录数比第 1 次少，这种情况不是幻读。

因为幻读只是重点强调了读取到之前读取没有获取到的记录。

如果非要给这种现象起一个名字，那可以给他定义为不可重复读。
